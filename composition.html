<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Composition</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
	<link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
	<link rel="stylesheet" href="datatable.css">
	<link rel="stylesheet" href="WBIMD.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<style>:root {--mdc-theme-primary: #003366;}</style>
	<style>:root {--mdc-theme-secondary: #cc0033;}</style>
	<style>:root {--mdc-theme-background: #F2F2F2;}</style>
</head>

<body>
	<header class="mdc-toolbar mdc-toolbar--fixed">
		<div class="mdc-toolbar__row">
			<section class="mdc-toolbar__section mdc-toolbar__section--align-start">
				<a href="#" class="material-icons mdc-toolbar__menu-icon">menu</a>
				<span class="mdc-toolbar__title">Message Composition</span>
			</section>
			<section class="mdc-toolbar__section mdc-toolbar__section--align-end" role="toolbar">
				<a href="#" class="material-icons mdc-toolbar__icon" aria-label="Search Messages" alt="Search Messages">search</a>
				<a href="index.html" class="material-icons mdc-toolbar__icon" aria-label="New Message" alt="New Message">list</a>
				<a href="#" class="material-icons mdc-toolbar__icon" aria-label="Admin Panel" alt="Admin Panel">settings</a>
			</section>
		</div>
	</header>
	<main>
		<div class="mdc-toolbar-fixed-adjust">
			<h2 class="mdc-typography mdc-typography--headline" id="CompTitle">New Message</h2>
			<div class="mdc-select" id="mesageType">
				<select required class="mdc-select__native-control" id="item">
					<option value="" disabled="" selected=""></option>
					<option value="Routine">Routine</option>
					<option value="Safety">Safety</option>
					<option value="Urgency">Urgency</option>
					<option value="DistAck">Distress Acknowledgement</option>
				</select>
				<div class="mdc-select__label">Message Type</div>
				<div class="mdc-select__selected-text"></div>
				<div class="mdc-select__bottom-line"></div>
			</div>
			
			<div class="compForm" id="Routine" hidden="hidden">
				<form action="sendMessage.php" method="POST">
					<div class="mdc-select" id="RFS">
						<select required class="mdc-select__native-control" name="FormatSpec">
							<option value="" disabled="" selected=""></option>
							<option value="114">114 Ships having Common Interest</option>
							<option value="120">120 Individual Stations</option>
						</select>
						<div class="mdc-select__label">Format Specifier</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input required type="text" id="RAddr" class="mdc-text-field__input" pattern="\d{9}" name="Addr">
					  <label class="mdc-floating-label" for="RAddr">Address</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<div class="mdc-select" id="RCat">
						<select required class="mdc-select__native-control" name="Cat">
							<option value="100" selected="">100 Routine</option>
						</select>
						<div class="mdc-select__label mdc-select__label--float-above">Category</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-select" id="RTC1">
						<select required class="mdc-select__native-control" name="TC1">
							<option value="" disabled="" selected=""></option>
							<option value="100">100 F3E/G3E All modes TP</option>
							<option value="101">101 F3E/G3E Duplex TP</option>
							<option value="103">103 Polling</option>
							<option value="104">104 Unable to comply</option>
							<option value="106">106 Data</option>
							<option value="109">109 J3E TP</option>
							<option value="113">113 F1B/J2B TTY-FEC</option>
							<option value="115">115 F1B/J2B TTY-ARQ</option>
						</select>
						<div class="mdc-select__label">Telecommand 1</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-select" id="RTC2">
						<select required class="mdc-select__native-control" name="TC2">
							<option value="" disabled="" selected=""></option>
							<option value="100">100 No reason given</option>
							<option value="101">101 Congestion at maritime switching centre</option>
							<option value="102">102 Busy</option>
							<option value="103">103 Queue indication</option>
							<option value="104">104 Station barred</option>
							<option value="105">105 No opperator avaliable</option>
							<option value="106">106 Opperator temorarily unavaliable</option>
							<option value="107">107 Equipment Disabled</option>
							<option value="108">108 Unable to use proposed mode</option>
							<option value="109">109 Unable to use proposed mode</option>
							<option value="126">126 No information</option>
						</select>
						<div class="mdc-select__label">Telecommand 2</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-radio-row">
						<div class="mdc-form-field">
							<div class="mdc-radio" id="RFreq">
							  <input class="mdc-radio__native-control" type="radio" id="rad4" name="RFCHO" onclick="FCHR()" value="Freq">
							  <div class="mdc-radio__background">
								<div class="mdc-radio__outer-circle"></div>
								<div class="mdc-radio__inner-circle"></div>
							  </div>
							</div>
							<label for="rad4">Frequency</label>
							<div class="mdc-radio" id="RHFMF">
							  <input class="mdc-radio__native-control" type="radio" id="rad5" name="RFCHO" onclick="FCHR()" value="HFMF">
							  <div class="mdc-radio__background">
								<div class="mdc-radio__outer-circle"></div>
								<div class="mdc-radio__inner-circle"></div>
							  </div>
							</div>
							<label for="rad5">HF/MF Channel</label>
						
							<div class="mdc-radio" id="RVHF">
							  <input class="mdc-radio__native-control" type="radio" id="rad6" name="RFCHO" onclick="FCHR()" value="VHF">
							  <div class="mdc-radio__background">
								<div class="mdc-radio__outer-circle"></div>
								<div class="mdc-radio__inner-circle"></div>
							  </div>
							</div>
							<label for="rad3">VHF Channel</label>
						</div>
					</div>
				
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField" >
					  <input required type="text" id="RFCH" class="mdc-text-field__input" pattern="\d{1,5}" Name="FCH">
					  <label class="mdc-floating-label" for="RFCH" id="RFCHLabel">Frequency</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<button type="submit" class="mdc-button mdc-button--raised" onclick="sendMessage()">
					  <i class="material-icons mdc-button__icon">send</i>
					  Send
					</button>
				</form>
			</div>
			<div class="compForm" id="UrgencySafety" hidden="hidden">
				<form action="sendMessage.php" method="POST">
					<div class="mdc-select" id="USFS">
						<select required class="mdc-select__native-control" name="FormatSpec">
							<option value="" disabled="" selected=""></option>
							<option value ="102">102 Geographical Area</option>
							<option value ="116">116 All Ships</option>
							<option value ="120">120 Individual Stations</option>
						</select>
						<div class="mdc-select__label">Format Specifier</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-select" id="USCat">
						<select required class="mdc-select__native-control" name="Category" id="USCATS">
							
						  	<option value ="108">108 Safety</option>
						 	<option value ="110">110 Urgency</option>
						</select>
						<div class="mdc-select__label">Category</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input required type="text" id="UAddr" class="mdc-text-field__input" pattern="\d{9}" name="Addr">
					  <label class="mdc-floating-label" for="USAddr">Address</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<div class="mdc-select" id="USTC1">
						<select required class="mdc-select__native-control" name="TC1">
							<option value="" disabled="" selected=""></option>
							<option value ="100">100 F3E/G3E All modes TP</option>
							<option value ="101">101 F3E/G3E duplex TP</option>
							<option value ="104">104 Unable to comply</option>
							<option value ="109">109 J3E TP</option>
							<option value ="113">113 F1B/J2B TTYFEC</option>
							<option value ="115">115 F1B/J2B TTYARQ</option>
							<option value ="118">118 Test</option>
							<option value ="121">121 Ship position or location registration updating </option>
						</select>
						<div class="mdc-select__label">Telecommand 1</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-select" id="USTC2">
						<select required class="mdc-select__native-control" name="TC2">
							<option value="" disabled="" selected=""></option>
							<option value ="100">100 No reason given</option>
							<option value ="101">101 Congestion at maritime switching centre</option>
							<option value ="102">102 Busy</option>
							<option value ="103">103 Queue indication</option>
							<option value ="104">104 Station barred</option>
							<option value ="105">105 No operator available</option>
							<option value ="106">106 Operator temporarily unavailable</option>
							<option value ="107">107 Equipment disabled</option>
							<option value ="108">108 Unable to use proposed mode</option>
							<option value ="109">109 Unable to use proposed mode</option>
							<option value ="110">110 Ships and aircraft</option>
							<option value ="111">111 Medical transports </option>
							<option value ="126">126 No information</option>
						</select>
						<div class="mdc-select__label">Telecommand 2</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-radio-row">
						<div class="mdc-form-field">
							<div class="mdc-radio" id="USFreq">
							  <input class="mdc-radio__native-control" type="radio" id="rad1" name="USFCHO" onclick="FCHUS()" value="Freq">
							  <div class="mdc-radio__background">
								<div class="mdc-radio__outer-circle"></div>
								<div class="mdc-radio__inner-circle"></div>
							  </div>
							</div>
							<label for="rad1">Frequency</label>
						</div>

						<div class="mdc-form-field">
							<div class="mdc-radio" id="USHFMF">
							  <input class="mdc-radio__native-control" type="radio" id="rad2" name="USFCHO" onclick="FCHUS()" value="HFMF">
							  <div class="mdc-radio__background">
								<div class="mdc-radio__outer-circle"></div>
								<div class="mdc-radio__inner-circle"></div>
							  </div>
							</div>
							<label for="rad2">HF/MF Channel</label>
						</div>
						
						<div class="mdc-form-field">
							<div class="mdc-radio" id="USVHF">
							  <input class="mdc-radio__native-control" type="radio" id="rad3" name="USFCHO" onclick="FCHUS()"  value="VHF">
							  <div class="mdc-radio__background">
								<div class="mdc-radio__outer-circle"></div>
								<div class="mdc-radio__inner-circle"></div>
							  </div>
							</div>
							<label for="rad3">VHF Channel</label>
						</div>
					</div>
				
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input required type="text" id="USFCH" class="mdc-text-field__input" pattern="\d{1,5}" name="FCH">
					  <label class="mdc-floating-label" for="USFCH" id="USFCHLabel">Frequency</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<button type="submit" class="mdc-button mdc-button--raised" onclick="sendMessage()">
					  <i class="material-icons mdc-button__icon">send</i>
					  Send
					</button>
				</form>
			</div>
			<div class="compForm" id="DistressAck" hidden="hidden">
				<form action="sendMessage.php" method="POST">
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input required type="text" class="mdc-text-field__input" id="DAddr" value ="366366367" name="Addr" pattern="\d{9}">
					  <label class="mdc-floating-label mdc-floating-label--float-above" for="DAddr">Responding to</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input required type="text" class="mdc-text-field__input" id="DPos" value ="38º33.5300'N076º21.060'W11:28" name="Pos">
					  <label class="mdc-floating-label mdc-floating-label--float-above" for="dialogPos">Position</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<div class="mdc-select" id="DNat">
						<select required class="mdc-select__native-control" name="Nature">
							<option value="" disabled=""></option>
							<option value ="100" selected="">100 Fire, explosion</option>
							<option value ="101">101 Flooding</option>
							<option value ="102">102 Collision</option>
							<option value ="103">103 Grounding </option>
							<option value ="104">104 Listing, in danger of capsizing </option>
							<option value ="105">105 Sinking</option>
							<option value ="106">106 Disabled and adrift </option>
							<option value ="107">107 Undesignated distress  </option>
							<option value ="108">108 Abandoning Ship </option>
							<option value ="109">109 Piracy/armed robbery attack</option>
							<option value ="110">110 Man overboard</option>
							<option value ="112">112 EPIRB emission</option>
						</select>
						<div class="mdc-select__label">Nature</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<div class="mdc-select" id="DSubCom">
						<select required class="mdc-select__native-control" name="SubCom">
							<option value="" disabled=""></option>
							<option value="100" selected="">100 F3E/G3E All modes TP</option>
							<option value="109">109 J3E TP</option>
							<option value="113">113 F1B/J2B TTYFEC</option>
							<option value="126">126 No information </option>
						</select>
						<div class="mdc-select__label">Subsequent Comunications</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					</div>
					<br>
					<button type="submit" class="mdc-button mdc-button--raised" onclick="sendMessage()">
					  <i class="material-icons mdc-button__icon">send</i>
					  Send
					</button>
				</form>
			</div>
		</div>
	</main>
	
	<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.js"></script>
	<script>
		window.mdc.autoInit();
		//mdc.radio.MDCRadio.attachTo(document.querySelector('.mdc-radio'));
		mdc.select.MDCSelect.attachTo(document.getElementById('mesageType'));
		
		mdc.select.MDCSelect.attachTo(document.getElementById('RFS'));
		mdc.select.MDCSelect.attachTo(document.getElementById('RCat'));
		mdc.select.MDCSelect.attachTo(document.getElementById('RTC1'));
		mdc.select.MDCSelect.attachTo(document.getElementById('RTC2'));

		mdc.select.MDCSelect.attachTo(document.getElementById('USFS'));
		mdc.select.MDCSelect.attachTo(document.getElementById('USCat'));
		mdc.select.MDCSelect.attachTo(document.getElementById('USTC1'));
		mdc.select.MDCSelect.attachTo(document.getElementById('USTC2'));

		mdc.select.MDCSelect.attachTo(document.getElementById('DNat'));
		mdc.select.MDCSelect.attachTo(document.getElementById('DSubCom'));
		
		const formType = document.getElementById('mesageType');
		const item = document.getElementById('item');
		const Cat = document.getElementById("USCATS");
		const USFreq =new mdc.radio.MDCRadio(document.getElementById("USFreq"));
		const USHFMF =new mdc.radio.MDCRadio(document.getElementById("USHFMF"));
		const USVHF =new mdc.radio.MDCRadio(document.getElementById("USVHF"));
		const RFreq =new mdc.radio.MDCRadio(document.getElementById("RFreq"));
		const RHFMF =new mdc.radio.MDCRadio(document.getElementById("RHFMF"));
		const RVHF =new mdc.radio.MDCRadio(document.getElementById("RVHF"));
		
		formType.addEventListener('change', () => {
			var RoutineForm = document.getElementById("Routine");
			var DistressAckForm = document.getElementById("DistressAck");
			var USForm = document.getElementById("UrgencySafety");
			var title = document.getElementById("CompTitle");

			var FormChoice = item.selectedIndex; //1=routine 2=Safety 3=Urgency 4=Distress Ack 

			console.log(FormChoice);
			switch(FormChoice) {
				case 1://routine
					title.innerHTML='New Routine Message';
					RoutineForm.style.display='block';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='none';
					break;

				case 2://Safety
					title.innerHTML='New Safety Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='block';
					Cat.selectedIndex = 0;
					Cat.disabled = true;
					break;

				case 3://Urgency
					title.innerHTML='New Urgency Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='block';
					Cat.selectedIndex = 1;
					Cat.disabled = true;
					break;

				case 4://Distress Ack
					title.innerHTML='New Distress Acknowledgement Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='block';
					UrgencySafety.style.display='none';
					break;

				default:
					title.innerHTML='New Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='none';
					break;
			 }
		});
	
	</script>
	<script>
		function sendMessage(){
			console.log("sendy sendy message button");
			var MessageType = formType.selectedIndex;
			switch(MessageType){
				case 1: //routine
					
				break;
					
				case 2: //safety
					
				break;
					
				case 3: //Urgency
					
				break;
				
				case 4: //DistressAck
					
				break;
				
				default:
					
				break;
					
			}
			
		}
		function FCHUS(){
			var fieldLabel=document.getElementById("USFCHLabel");
			if(USFreq.checked){
				console.log("FREQ");
				fieldLabel.innerHTML="Frequency";
				document.getElementById("USFCH").pattern='\\d{1,5}00';
			}
			else if(USHFMF.checked){
				console.log("HFMF");
				fieldLabel.innerHTML="HF/MF Channel";
				document.getElementById("USFCH").pattern='\\d{1,5}'
			}
			else if(USVHF.checked){
				console.log("VHF");
				fieldLabel.innerHTML="VHF Channel"
				document.getElementById("RFCH").pattern='\\d{1,5}';
			}
			else{
				console.log("wut");
			}
		}
		function FCHR(){
			var fieldLabel=document.getElementById("RFCHLabel");
			if(RFreq.checked){
				console.log("FREQ");
				fieldLabel.innerHTML="Frequency";
				document.getElementById("RFCH").pattern='\\d{1,5}00';
			}
			else if(RHFMF.checked){
				console.log("HFMF");
				fieldLabel.innerHTML="HF/MF Channel";
				document.getElementById("RFCH").pattern='\\d{1,5}'
			}
			else if(RVHF.checked){
				console.log("VHF");
				fieldLabel.innerHTML="VHF Channel";
				document.getElementById("RFCH").pattern='\\d{1,5}'
			}
			else{
				console.log("wut");
			}
		}
	</script>
</body>
</html>
