<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Composition</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
	<link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
	<link rel="stylesheet" href="datatable.css">
	<link rel="stylesheet" href="WBIMD.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<style>:root {--mdc-theme-primary: #003366;}</style>
	<style>:root {--mdc-theme-secondary: #cc0033;}</style>
	<style>:root {--mdc-theme-background: #F2F2F2;}</style>
</head>

<body>
	<header class="mdc-toolbar mdc-toolbar--fixed">
		<div class="mdc-toolbar__row">
			<section class="mdc-toolbar__section mdc-toolbar__section--align-start">
				<a href="#" class="material-icons mdc-toolbar__menu-icon">menu</a>
				<span class="mdc-toolbar__title">Message Composition</span>
			</section>
			<section class="mdc-toolbar__section mdc-toolbar__section--align-end" role="toolbar">
				<a href="#" class="material-icons mdc-toolbar__icon" aria-label="Search Messages" alt="Search Messages">search</a>
				<a href="index.html" class="material-icons mdc-toolbar__icon" aria-label="New Message" alt="New Message">list</a>
				<a href="#" class="material-icons mdc-toolbar__icon" aria-label="Admin Panel" alt="Admin Panel">settings</a>
			</section>
		</div>
	</header>
	<main>
		<div class="mdc-toolbar-fixed-adjust">
			<h2 class="mdc-typography mdc-typography--headline" id="CompTitle">New Message</h2>
			<div class="mdc-select" role="listbox" id="meessageType" >
			  <div class="mdc-select__surface" tabindex="0">
				<div class="mdc-select__label">Message Type</div>
				<div class="mdc-select__selected-text"></div>
				<div class="mdc-select__bottom-line"></div>
			  </div>
			  <div class="mdc-menu mdc-select__menu">
				<ul class="mdc-list mdc-menu__items">
				  <li class="mdc-list-item" role="option" tabindex="0">
					Routine
				  </li>
				  <li class="mdc-list-item" role="option" tabindex="0">
					Safety
				  </li>
				  <li class="mdc-list-item" role="option" tabindex="0">
					Urgency
				  </li>
				  <li class="mdc-list-item" role="option" tabindex="0">
					Distress Acknowledgement 
				  </li>
				  <li class="mdc-list-item" role="option"  aria-disabled="true" tabindex="-1">
					Distress
				  </li>
				</ul>
			  </div>
			</div>
			
			<div class="compForm" id="DistressAck" hidden="hidden">
				<!-- Add validation to MMSI & Position Change Nature & SC to select-->
				<form>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input type="text" class="mdc-text-field__input" id="dialogFrom" value ="366366367" required pattern="\d{9}">
					  <label class="mdc-floating-label mdc-floating-label--float-above" for="dialogFrom">Responding to</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input type="text" class="mdc-text-field__input" id="dialogPos" value ="38ยบ33.5300'N076ยบ21.060'W11:28" required>
					  <label class="mdc-floating-label mdc-floating-label--float-above" for="dialogPos">Position</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<div class="mdc-select" role="listbox" id="dialogNature" data-mdc-auto-init="MDCSelect">
					  <div class="mdc-select__surface" tabindex="0">
						<div class="mdc-select__label">Nature</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					  </div>
					  <div class="mdc-menu mdc-select__menu">
						<ul class="mdc-list mdc-menu__items">
						  <li class="mdc-list-item" role="option" tabindex="0">
							100 Fire, explosion
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							101 Flooding
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							102 Collision
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							103 Grounding 
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							104 Listing, in danger of capsizing 
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							105 Sinking
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							106 Disabled and adrift 
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							107 Undesignated distress  
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							108 Abandoning Ship 
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							109 Piracy/armed robbery attack
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							110 Man overboard
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="-1">
							112 EPIRB emission
						  </li>
						</ul>
					  </div>
					</div>
					<br>
					<div class="mdc-select" role="listbox" id="dialogSubCom" data-mdc-auto-init="MDCSelect">
					  <div class="mdc-select__surface" tabindex="0">
						<div class="mdc-select__label">Subsequent Communications</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					  </div>
					  <div class="mdc-menu mdc-select__menu">
						<ul class="mdc-list mdc-menu__items">
						  <li class="mdc-list-item" role="option" tabindex="0">
							100 F3E/G3E All modes TP
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							109 J3E TP
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							113 F1B/J2B TTYFEC
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							126 No information 
						  </li>
						</ul>
					  </div>
					</div>
					<br>
					<button class="mdc-button mdc-button--raised">
					  <i class="material-icons mdc-button__icon">send</i>
					  Send
					</button>
				</form>
			</div>
			<div class="compForm" id="UrgencySafety" hidden="hidden">
				<form>
				<br>
					<div class="mdc-select" role="listbox" id="USFS" data-mdc-auto-init="MDCSelect">
					  <div class="mdc-select__surface" tabindex="0">
						<div class="mdc-select__label">Format Specifier</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					  </div>
					  <div class="mdc-menu mdc-select__menu">
						<ul class="mdc-list mdc-menu__items">
						  <li class="mdc-list-item" role="option" tabindex="0">
							102 Geographical Area
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							116 All Ships
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							120 Individual Stations
						  </li>
						</ul>
					  </div>
					</div>
					<div class="mdc-select" role="listbox" id="USCAT" data-mdc-auto-init="MDCSelect">
					  <div class="mdc-select__surface" tabindex="0">
						<div class="mdc-select__label">Category</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					  </div>
					  <div class="mdc-menu mdc-select__menu">
						<ul class="mdc-list mdc-menu__items">
						  <li class="mdc-list-item" role="option" tabindex="0">
							108 Safety
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							110 Urgency
						  </li>
						</ul>
					  </div>
					</div>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input type="text" id="UAddr" class="mdc-text-field__input" pattern="\d{9}">
					  <label class="mdc-floating-label" for="USAddr">Address</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<div class="mdc-select" role="listbox" id="USTC1" data-mdc-auto-init="MDCSelect">
					  <div class="mdc-select__surface" tabindex="0">
						<div class="mdc-select__label">Telecommand 1</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					  </div>
					  <div class="mdc-menu mdc-select__menu">
						<ul class="mdc-list mdc-menu__items">
						  <li class="mdc-list-item" role="option" tabindex="0">
							100 F3E/G3E All modes TP
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							101 F3E/G3E duplex TP
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							104 Unable to comply
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							109 J3E TP
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							113 F1B/J2B TTYFEC
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							115 F1B/J2B TTYARQ
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							118 Test
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							121 Ship position or location registration updating 
						  </li>
						</ul>
					  </div>
					</div>
				<br>
					<div class="mdc-select" role="listbox" id="USTC2" data-mdc-auto-init="MDCSelect">
					  <div class="mdc-select__surface" tabindex="0">
						<div class="mdc-select__label">Telecommand 2</div>
						<div class="mdc-select__selected-text"></div>
						<div class="mdc-select__bottom-line"></div>
					  </div>
					  <div class="mdc-menu mdc-select__menu">
						<ul class="mdc-list mdc-menu__items">
						  <li class="mdc-list-item" role="option" tabindex="0">
							100 No reason given
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							101 Congestion at maritime switching centre
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							102 Busy
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							103 Queue indication
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							104 Station barred
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							105 No operator available
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							106 Operator temporarily unavailable
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							107 Equipment disabled
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							108 Unable to use proposed mode
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							109 Unable to use proposed mode
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							110 Ships and aircraft
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							111 Medical transports 
						  </li>
						  <li class="mdc-list-item" role="option" tabindex="0">
							126 No information
						  </li>
						</ul>
					  </div>
					</div>
					<br>
					<button class="mdc-button mdc-button--raised">
					  <i class="material-icons mdc-button__icon">send</i>
					  Send
					</button>
				</form>
			</div>
			<div class="compForm" id="Routine" hidden="hidden">
				<form>
				<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input type="text" id="RTC1" class="mdc-text-field__input" >
					  <label class="mdc-floating-label" for="RTC1">TC1</label>
					  <div class="mdc-line-ripple"></div>
					</div>
				<br>
					<div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
					  <input type="text" id="RTC2" class="mdc-text-field__input" >
					  <label class="mdc-floating-label" for="RTC2">TC2</label>
					  <div class="mdc-line-ripple"></div>
					</div>
					<br>
					<button class="mdc-button mdc-button--raised">
					  <i class="material-icons mdc-button__icon">send</i>
					  Send
					</button>
				</form>
			</div>
			<div class="compForm" id="Distress" hidden="hidden">
			</div>
		</div>
	</main>
	
	<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.js"></script>
	<script>
		window.mdc.autoInit();
		const formType = new mdc.select.MDCSelect(document.getElementById("meessageType"));
		const Cat = new mdc.select.MDCSelect(document.getElementById("USCAT"));
		formType.listen('MDCSelect:change', () => {
		  //alert(`Selected "${formType.selectedOptions[0].textContent}" at index ${formType.selectedIndex}`+`with value "${formType.value}"`);
			
			var RoutineForm = document.getElementById("Routine");
			var DistressAckForm = document.getElementById("DistressAck");
			var USForm = document.getElementById("UrgencySafety");
			var title = document.getElementById("CompTitle");

			var FormChoice = formType.selectedIndex; //0=routine 1=Safety 2=Urgency 3=Distress Ack 

			console.log(FormChoice);
			switch(FormChoice) {
				case 0://routine
					title.innerHTML='New Routine Message';
					RoutineForm.style.display='block';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='none';
					break;

				case 1://Safety
					title.innerHTML='New Safety Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='block';
					Cat.selectedIndex = 0;
					break;

				case 2://Urgency
					title.innerHTML='New Urgency Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='block';
					Cat.selectedIndex = 1;
					break;

				case 3://Distress Ack
					title.innerHTML='New Distress Acknowledgement Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='block';
					UrgencySafety.style.display='none';
					break;

				default:
					title.innerHTML='New Message';
					RoutineForm.style.display='none';
					DistressAckForm.style.display ='none';
					UrgencySafety.style.display='none';
					break;
			 }
		});
	</script>
</body>
</html>
